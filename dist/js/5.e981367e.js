(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[5],{1005:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});r(2772),r(1249),r(7327),r(1539);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container my-4"},[t("h1",{staticClass:"mb-4"},[e._v("Search Recipes")]),t("div",{staticClass:"input-group mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search for recipes..."},domProps:{value:e.searchQuery},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchRecipes.apply(null,arguments)},input:function(t){t.target.composing||(e.searchQuery=t.target.value)}}}),t("div",{staticClass:"input-group-append"},[t("button",{staticClass:"btn btn-primary",on:{click:e.searchRecipes}},[e._v("Search")])])]),e.searchPerformed&&e.results.length>0?t("div",{staticClass:"mb-3 d-flex align-items-center"},[t("label",{staticClass:"form-label me-2",attrs:{for:"resultsLimit"}},[e._v("Number of results:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.resultsLimit,expression:"resultsLimit"}],staticClass:"form-select w-auto",attrs:{id:"resultsLimit"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.resultsLimit=t.target.multiple?r:r[0]},e.searchRecipes]}},[t("option",{attrs:{value:"5"}},[e._v("5")]),t("option",{attrs:{value:"10"}},[e._v("10")]),t("option",{attrs:{value:"15"}},[e._v("15")])])]):e._e(),e.searchPerformed&&e.results.length>0?t("div",{staticClass:"mb-3 d-flex align-items-center"},[t("label",{staticClass:"form-label me-2",attrs:{for:"sortOrder"}},[e._v("Sort by:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.sortOrder,expression:"sortOrder"}],staticClass:"form-select w-auto",attrs:{id:"sortOrder"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.sortOrder=t.target.multiple?r:r[0]},e.sortResults]}},[t("option",{attrs:{value:"none"}},[e._v("No Sorting")]),t("option",{attrs:{value:"time"}},[e._v("Preparation Time")]),t("option",{attrs:{value:"likes"}},[e._v("Likes")])])]):e._e(),0===e.results.length&&e.searchPerformed?t("div",{staticClass:"alert alert-warning w-100 text-center"},[e._v("No results found.")]):e.searchPerformed?e._e():t("div",{staticClass:"alert alert-info w-100 text-center"},[e._v("Please enter a search query to find recipes.")]),t("div",{staticClass:"search-results d-flex flex-wrap justify-content-center"},e._l(e.sortedResults,(function(r){return t("RecipePreview",{key:r.id,attrs:{recipe:r},on:{"update-recipe":e.updateRecipe,"toggle-favorite":e.toggleFavorite}})})),1),e.lastSearchResults.length>0?t("div",{staticClass:"last-search-results mt-4"},[t("h2",{staticClass:"mb-4"},[e._v("Last Search Results")]),t("div",{staticClass:"d-flex flex-wrap justify-content-center"},e._l(e.lastSearchResults,(function(r){return t("RecipePreview",{key:r.id,attrs:{recipe:r},on:{"update-recipe":e.updateRecipe,"toggle-favorite":e.toggleFavorite}})})),1)]):e._e()])},a=[],i=r(5957),n=(r(4553),r(561),r(8862),r(1058),r(2707),r(4830)),o=r(431);const l={name:"SearchPage",components:{RecipePreview:o.Z},data:function(){return{searchQuery:"",results:[],lastSearchResults:[],resultsLimit:5,sortOrder:"none",searchPerformed:!1}},created:function(){this.loadLastSearch()},methods:{searchRecipes:function(){if(this.searchPerformed=!0,this.sortOrder="none",this.searchQuery.length>0){var e=(0,n.J1)(this.searchQuery,this.resultsLimit);this.results=e.data.recipes,this.lastSearchResults=this.results,this.saveLastSearch()}else this.results=[]},sortResults:function(){this.saveLastSearch()},updateRecipe:function(e){var t=this.results.findIndex((function(t){return t.id===e.id}));-1!==t&&this.results.splice(t,1,e);var r=this.lastSearchResults.findIndex((function(t){return t.id===e.id}));-1!==r&&this.lastSearchResults.splice(r,1,e)},toggleFavorite:function(e){console.log("Toggle favorite for recipe ID: ".concat(e))},saveLastSearch:function(){localStorage.setItem("lastSearchResults",JSON.stringify(this.lastSearchResults)),localStorage.setItem("lastResultsLimit",this.resultsLimit),localStorage.setItem("sortOrder",this.sortOrder)},loadLastSearch:function(){var e=localStorage.getItem("lastSearchResults"),t=localStorage.getItem("lastResultsLimit"),r=localStorage.getItem("sortOrder");e&&(this.lastSearchResults=JSON.parse(e)),t&&(this.resultsLimit=parseInt(t,10)),r&&(this.sortOrder=r)}},computed:{sortedResults:function(){return"time"===this.sortOrder?(0,i.Z)(this.results).sort((function(e,t){return e.readyInMinutes-t.readyInMinutes})):"likes"===this.sortOrder?(0,i.Z)(this.results).sort((function(e,t){return t.aggregateLikes-e.aggregateLikes})):this.results}}},c=l;var u=r(1001),h=(0,u.Z)(c,s,a,!1,null,"630d0ce7",null);const f=h.exports},4362:(e,t,r)=>{var s=r(1589),a=Math.floor,i=function(e,t){var r=e.length,l=a(r/2);return r<8?n(e,t):o(e,i(s(e,0,l),t),i(s(e,l),t),t)},n=function(e,t){var r,s,a=e.length,i=1;while(i<a){s=i,r=e[i];while(s&&t(e[s-1],r)>0)e[s]=e[--s];s!==i++&&(e[s]=r)}return e},o=function(e,t,r,s){var a=t.length,i=r.length,n=0,o=0;while(n<a||o<i)e[n+o]=n<a&&o<i?s(t[n],r[o])<=0?t[n++]:r[o++]:n<a?t[n++]:r[o++];return e};e.exports=i},5117:(e,t,r)=>{"use strict";var s=r(6330),a=TypeError;e.exports=function(e,t){if(!delete e[t])throw a("Cannot delete property "+s(t)+" of "+s(e))}},8886:(e,t,r)=>{var s=r(8113),a=s.match(/firefox\/(\d+)/i);e.exports=!!a&&+a[1]},256:(e,t,r)=>{var s=r(8113);e.exports=/MSIE|Trident/.test(s)},8008:(e,t,r)=>{var s=r(8113),a=s.match(/AppleWebKit\/(\d+)\./);e.exports=!!a&&+a[1]},2772:(e,t,r)=>{"use strict";var s=r(2109),a=r(1470),i=r(1318).indexOf,n=r(9341),o=a([].indexOf),l=!!o&&1/o([1],1,-0)<0,c=l||!n("indexOf");s({target:"Array",proto:!0,forced:c},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return l?o(this,e,t)||0:i(this,e,t)}})},2707:(e,t,r)=>{"use strict";var s=r(2109),a=r(1702),i=r(9662),n=r(7908),o=r(6244),l=r(5117),c=r(1340),u=r(7293),h=r(4362),f=r(9341),d=r(8886),v=r(256),p=r(7392),m=r(8008),g=[],y=a(g.sort),S=a(g.push),_=u((function(){g.sort(void 0)})),R=u((function(){g.sort(null)})),x=f("sort"),C=!u((function(){if(p)return p<70;if(!(d&&d>3)){if(v)return!0;if(m)return m<603;var e,t,r,s,a="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(s=0;s<47;s++)g.push({k:t+s,v:r})}for(g.sort((function(e,t){return t.v-e.v})),s=0;s<g.length;s++)t=g[s].k.charAt(0),a.charAt(a.length-1)!==t&&(a+=t);return"DGBEFHACIJK"!==a}})),w=_||!R||!x||!C,k=function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:c(t)>c(r)?1:-1}};s({target:"Array",proto:!0,forced:w},{sort:function(e){void 0!==e&&i(e);var t=n(this);if(C)return void 0===e?y(t):y(t,e);var r,s,a=[],c=o(t);for(s=0;s<c;s++)s in t&&S(a,t[s]);h(a,k(e)),r=o(a),s=0;while(s<r)t[s]=a[s++];while(s<c)l(t,s++);return t}})},561:(e,t,r)=>{"use strict";var s=r(2109),a=r(7908),i=r(1400),n=r(9303),o=r(6244),l=r(3658),c=r(7207),u=r(5417),h=r(6135),f=r(5117),d=r(1194),v=d("splice"),p=Math.max,m=Math.min;s({target:"Array",proto:!0,forced:!v},{splice:function(e,t){var r,s,d,v,g,y,S=a(this),_=o(S),R=i(e,_),x=arguments.length;for(0===x?r=s=0:1===x?(r=0,s=_-R):(r=x-2,s=m(p(n(t),0),_-R)),c(_+r-s),d=u(S,s),v=0;v<s;v++)g=R+v,g in S&&h(d,v,S[g]);if(d.length=s,r<s){for(v=R;v<_-s;v++)g=v+s,y=v+r,g in S?S[y]=S[g]:f(S,y);for(v=_;v>_-s+r;v--)f(S,v-1)}else if(r>s)for(v=_-s;v>R;v--)g=v+s-1,y=v+r-1,g in S?S[y]=S[g]:f(S,y);for(v=0;v<r;v++)S[v+R]=arguments[v+2];return l(S,_-s+r),d}})}}]);
//# sourceMappingURL=5.e981367e.js.map